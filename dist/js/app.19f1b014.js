(function(e){function r(r){for(var n,u,c=r[0],s=r[1],o=r[2],l=0,f=[];l<c.length;l++)u=c[l],a[u]&&f.push(a[u][0]),a[u]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(r);while(f.length)f.shift()();return i.push.apply(i,o||[]),t()}function t(){for(var e,r=0;r<i.length;r++){for(var t=i[r],n=!0,c=1;c<t.length;c++){var s=t[c];0!==a[s]&&(n=!1)}n&&(i.splice(r--,1),e=u(u.s=t[0]))}return e}var n={},a={app:0},i=[];function u(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=n,u.d=function(e,r,t){u.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,r){if(1&r&&(e=u(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)u.d(t,n,function(r){return e[r]}.bind(null,n));return t},u.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(r,"a",r),r},u.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},u.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=r,c=c.slice();for(var o=0;o<c.length;o++)r(c[o]);var p=s;i.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";var n=t("64a9"),a=t.n(n);a.a},"2b9d":function(e,r,t){},"56d7":function(e,r,t){"use strict";t.r(r);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("Game")],1)},i=[],u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],attrs:{placeholder:"Name"},domProps:{value:e.playerName},on:{input:function(r){r.target.composing||(e.playerName=r.target.value)}}}),t("button",{on:{click:function(r){return e.restart()}}},[e._v("Restart")]),this.gameOver?t("GameOver"):t("div",[t("h2",[e._v("\n      Current Leader:\n      "+e._s(this.top_player.name)+"\n    ")]),t("h2",[e._v("\n      Max Score:\n      "+e._s(Math.floor(100*this.top_player.score))+"\n    ")]),t("GameRender",{attrs:{id:this.player.id,player:this.universe.player}}),t("br"),t("h2",[e._v("\n      Score:\n      "+e._s(Math.floor(100*e.player.radius))+"\n    ")]),t("h3",[e._v("\n      Player:\n      "+e._s(e.player.name)+"\n    ")])],1)],1)},c=[],s=(t("96cf"),t("3b8d")),o=(t("7f7f"),t("bc3a")),p=t.n(o),l=t("72bf"),f=t.n(l),h=p.a.create({baseURL:"http://info.gda.itesm.mx:5000"}),d={getUniverse:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",h.get("universe").then(function(e){return e.data}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),createPlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=f.a.stringify({name:r}),e.abrupt("return",h.post("player",t,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.data}).catch(function(e){return e}));case 2:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}(),putPlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=f.a.stringify(t),e.abrupt("return",h.put("player/".concat(r),n,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.data}).catch(function(e){return{id:r,err:e}}));case 2:case"end":return e.stop()}},e,this)}));function r(r,t){return e.apply(this,arguments)}return r}()},v=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div")},y=[],m=t("a4bb"),w=t.n(m),b=(t("c5f6"),t("f077")),g={props:{player:{type:Object,required:!0},id:{type:Number,required:!0}},data:function(){return{circles:{}}},computed:{centered_player:function(){var e=this;if(!this.player[this.id])return{};var r=-this.player[this.id].x+this.two.width/2,t=+this.player[this.id].y+this.two.height/2;return w()(this.player).map(function(n){return{id:e.player[n].id,x:e.player[n].x+r,y:-e.player[n].y+t,r:10*e.player[n].radius,name:e.player[n].name}})}},methods:{drawPlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.two.makeCircle(r.x,r.y,r.r),this.id==r.id?t.fill="#FF8000":t.fill="rgba(0, 200, 255, 0.75)",t.text=this.two.makeText(r.name,r.x,r.y+r.r),this.circles[r.id]=t;case 4:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}(),updatePlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.circles[r.id],t.translation.set(r.x,r.y),t.radius=r.r,this.id==r.id?t.fill="#FF8000":t.fill="rgba(0, 200, 255, 0.75)",t.text.translation.set(r.x,r.y+r.r+10);case 5:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}()},mounted:function(){var e=this;for(var r in this.two=(new b["a"]).appendTo(this.$el),this.centered_player)this.drawPlayer(this.centered_player[r]);this.two.bind("update",function(){var r={};for(var t in e.centered_player)e.circles[e.centered_player[t].id]?e.updatePlayer(e.centered_player[t]):e.drawPlayer(e.centered_player[t]),r[e.centered_player[t].id]=e.circles[e.centered_player[t].id],delete e.circles[e.centered_player[t].id];for(var n in e.circles)e.two.remove(e.circles[n]);e.circles=r}).play()}},x=g,_=t("2877"),O=Object(_["a"])(x,v,y,!1,null,null,null),R=O.exports,j=function(){var e=this,r=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("section",{staticClass:"container"},[t("h1",[t("span",{staticClass:"title"},[e._v("Game")]),t("span",{staticClass:"title"},[e._v("Over")])])])])}],P={created:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},G=P,N=(t("a82f"),Object(_["a"])(G,j,k,!1,null,"70c433a0",null)),C=N.exports,M={components:{GameOver:C,GameRender:R},data:function(){return{universe:{player:{"-1":{id:-1,x:0,y:0,radius:0}}},player:{id:-1},gameOver:!1,playerName:"Hola"}},computed:{top_player:function(){var e=this.player.radius,r=this.player.name;for(var t in this.universe.player){var n=this.universe.player[t];n.radius>e&&(e=n.radius,r=n.name)}return{score:e,name:r}}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.restart(),setInterval(function(){this.getUniverse(),this.checkGameOver()}.bind(this),33),window.addEventListener("keydown",function(e){r.gameOver||r.movePlayer(e.keyCode)});case 3:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),methods:{restart:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.createPlayer(this.playerName),this.getUniverse();case 2:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),checkGameOver:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:null==this.universe.player[this.player.id]&&(this.gameOver=!0);case 1:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),getUniverse:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.getUniverse();case 2:r=e.sent,this.universe=r;case 4:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),createPlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.createPlayer(r);case 2:t=e.sent,this.player=t;case 4:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}(),movePlayer:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={up:!1,down:!1,left:!1,right:!1},e.t0=r,e.next=37===e.t0?4:38===e.t0?6:39===e.t0?8:40===e.t0?10:12;break;case 4:return t.left=!0,e.abrupt("break",13);case 6:return t.up=!0,e.abrupt("break",13);case 8:return t.right=!0,e.abrupt("break",13);case 10:return t.down=!0,e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return e.next=15,d.putPlayer(this.player.id,t);case 15:n=e.sent,this.player=n;case 17:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}()}},S=M,T=Object(_["a"])(S,u,c,!1,null,null,null),$=T.exports,E={name:"app",components:{Game:$}},U=E,F=(t("034f"),Object(_["a"])(U,a,i,!1,null,null,null)),L=F.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(L)}}).$mount("#app")},"64a9":function(e,r,t){},a82f:function(e,r,t){"use strict";var n=t("2b9d"),a=t.n(n);a.a}});
//# sourceMappingURL=app.19f1b014.js.map